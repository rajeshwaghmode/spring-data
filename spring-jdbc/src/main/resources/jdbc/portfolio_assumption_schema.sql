DROP TABLE IF EXISTS VECTOR CASCADE;
DROP TABLE IF EXISTS CORE_ASSUMPTION CASCADE ;
DROP TABLE IF EXISTS VECTOR_ASSUMPTION CASCADE ;

CREATE TABLE PORTFOLIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY, NAME VARCHAR(255), EFFECTIVE_FROM_DATE DATE, PRIMARY KEY (ID));
CREATE TABLE CORE_ASSUMPTION (BREAKOUT_ID BIGINT GENERATED BY DEFAULT AS IDENTITY, PORTFOLIO_ID BIGINT, TYPE VARCHAR(255), PRIMARY KEY (BREAKOUT_ID));
CREATE TABLE VECTOR_ASSUMPTION (ID BIGINT GENERATED BY DEFAULT AS IDENTITY, BREAKOUT_ID BIGINT, TENOR VARCHAR(255), PRIMARY KEY (ID));

ALTER TABLE CORE_ASSUMPTION ADD CONSTRAINT PORTFOLIO_ID_FK FOREIGN KEY (PORTFOLIO_ID) REFERENCES PORTFOLIO;
ALTER TABLE VECTOR_ASSUMPTION ADD CONSTRAINT BREAKOUT_ID_FK FOREIGN KEY (BREAKOUT_ID) REFERENCES CORE_ASSUMPTION;
